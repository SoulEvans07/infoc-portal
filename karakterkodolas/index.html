<!DOCTYPE html>
<html lang="hu">

<head>
<meta charset="utf-8">
<title>TEST InfoC :: R√©mt√∂rt√©net a karakterk√≥dol√°sokr√≥l</title>
<meta property="og:title" content="TEST InfoC :: R√©mt√∂rt√©net a karakterk√≥dol√°sokr√≥l">
<meta property="og:image" content="/modulz/logo.png">
<meta property="og:description" content="√âkezetes bet≈±k, sz√∂vegek k√≥dol√°sa √©s megjelen√≠t√©se a programokban. Javasolt olvasm√°ny azoknak, akik szeretn√©k a nagy h√°zijukban megoldani a magyar √©kezetes sz√∂vegek helyes kezel√©s√©t.">
<meta property="og:site_name" content="InfoC ‚Äì Programoz√°s alapjai I.">
<meta name="description" content="√âkezetes bet≈±k, sz√∂vegek k√≥dol√°sa √©s megjelen√≠t√©se a programokban. Javasolt olvasm√°ny azoknak, akik szeretn√©k a nagy h√°zijukban megoldani a magyar √©kezetes sz√∂vegek helyes kezel√©s√©t.">
<meta name="robots" content="noarchive">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="../modulz/favicon.ico" id="faviconhref">
<link rel="apple-touch-icon" href="../modulz/logo_touch.png">
<link rel="image_src" href="../modulz/logo.png"> 
<link rel="stylesheet" href="../modulz/alap-infoc.css@v101.css">
<link rel="stylesheet" href="../modulz/style/localfonts.css@v101.css">
<script>var infoc = { onloads: [] };</script>
<script src="../modulz/site.js@v101"></script>
</head>

<body class=" doksi-formatum" data-version="101"
    data-halozati-hiba="H√°l√≥zati hiba a k√©r√©s teljes√≠t√©se k√∂zben."
    data-tul-nagy-keres="A f√°jl t√∫l nagy!"
    data-biztos-navigal="Biztos el szeretn√©l navig√°lni? A nem mentett v√°ltoz√°sok elvesznek."
    data-ird-be-a-keresoszot="√çrd be a keres≈ësz√≥t!"
    data-vissza="Vissza">

<div class="bodycontent">

<nav class="menubg clearfix">
<div class="shaper">
<div id="menu" class="menu menu-font-size">
<a id="menu-nyito" class="menu-nyito"  role="button"><i class="hamburger"></i></a>
<div class="menu-brand"><a href="../index/index.html">InfoC</a></div>
<div id="menu-elemek" class="menu-elemek">
<ul>
<li class="almenu "><a>Inf√≥</a>
<ul>
<li><a  href="../index/index.html">Kezd≈ëlap</a>
<li><a  href="../elerhetoseg/index.html">El√©rhet≈ës√©g</a>
</ul>

<li class="almenu "><a>Tananyag</a>
<ul>
<li class="almenu "><a>El≈ëad√°s</a>
<ul>
<li><a  href="../ea01/index.html">1. h√©t: t√≠pusok, v√°ltoz√≥k, vez√©rl√©s</a>
<li><a  href="../ea02/index.html">2. h√©t: nevezetes algoritmusok, t√∂mb√∂k</a>
<li><a  href="../ea03/index.html">3. h√©t: f√ºggv√©nyek, strukt√∫r√°k</a>
<li><a  href="../ea04/index.html">4. h√©t: pointerek, sztringek</a>
<li><a  href="../ea05/index.html">5. h√©t: rendez√©sek, rekurzi√≥</a>
<li><a  href="../ea06/index.html">6. h√©t: oper√°torok, sz√°m√°br√°zol√°s</a>
<li><a  href="../ea07/index.html">7. h√©t: dinamikus mem√≥riakezel√©s</a>
<li><a  href="../ea08/index.html">8. h√©t: f√°jlkezel√©s, modulok</a>
<li><a  href="../ea10/index.html">10. h√©t: l√°ncolt list√°k</a>
<li><a  href="../ea11/index.html">11. h√©t: bin√°ris f√°k</a>
<li><a  href="../ea12/index.html">12. h√©t: √°llapotg√©pek, regul√°ris kifejez√©sek</a>
<li><a  href="../ea13/index.html">13. h√©t: generikus algoritmusok, visszal√©p≈ë keres√©s</a>
<li><a  href="../ea14/index.html">14. h√©t: √∂sszefoglal√°s</a>
</ul>

<li class="almenu "><a>Labor</a>
<ul>
<li><a  href="../lab01/index.html">1. h√©t: parancssor, ZIP</a>
<li><a  href="../lab02/index.html">2. h√©t: egyszer≈± programok</a>
<li><a  href="../lab03/index.html">3. h√©t: t√∂mb√∂k, nevezetes algoritmusok</a>
<li><a  href="../lab04/index.html">4. h√©t: strukt√∫r√°k √©s f√ºggv√©nyek</a>
<li><a  href="../lab06/index.html">6. h√©t: pointerek, sztringek</a>
<li><a  href="../lab07/index.html">7. h√©t: rekurzi√≥</a>
<li><a  href="../lab08/index.html">8. h√©t: dinamikus t√∂mb√∂k I.</a>
<li><a  href="../lab09/index.html">9. h√©t: dinamikus t√∂mb√∂k II.</a>
<li><a  href="../lab10/index.html">10. h√©t: l√°ncolt list√°k</a>
<li><a  href="../lab11/index.html">11. h√©t: bin√°ris f√°k</a>
<li><a  href="../lab12/index.html">12. h√©t: gyakorl√°s NZH-ra</a>
<li><a  href="../lab13/index.html">13. h√©t: √°llapotg√©pek</a>
<li><a  href="../lab14/index.html">14. h√©t: labirintus j√°t√©k</a>
</ul>

<li class="almenu "><a>Gyakorlat</a>
<ul>
<li><a  href="../gy01/index.html">1. h√©t: adatmodellez√©s, algoritmusok</a>
<li><a  href="../gy02/index.html">2. h√©t: tanult algoritmusok</a>
<li><a  href="../gy03/index.html">3. h√©t: egyszer≈± programok</a>
<li><a  href="../gy04/index.html">4. h√©t: t√©telek √©s t√∂mb√∂k</a>
<li><a  href="../gy05/index.html">5. h√©t: sz√°rmaztatott t√≠pusok</a>
<li><a  href="../gy06/index.html">6. h√©t: karakterek, sz√°mrendszerek</a>
<li><a  href="../gy07/index.html">7. h√©t: pointerek haszn√°lata</a>
<li><a  href="../gy08/index.html">8. h√©t: rekurzi√≥</a>
<li><a  href="../gy09/index.html">9. h√©t: dinamikus t√∂mb√∂k</a>
<li><a  href="../gy10/index.html">10. h√©t: l√°ncolt list√°k</a>
<li><a  href="../gy12/index.html">12. h√©t: bin√°ris f√°k</a>
<li><a  href="../gy13/index.html">13. h√©t: √°llapotg√©pek</a>
<li><a  href="../gy14/index.html">14. h√©t: generikus algoritmusok</a>
</ul>

<li class="almenu "><a>P√©ldat√°r</a>
<ul>
<li><a  href="../f01/index.html">1. h√©t: egyszer≈± programok</a>
<li><a  href="../f02/index.html">2. h√©t: logika, sorozatok, t√∂mb√∂k</a>
<li><a  href="../f03/index.html">3. h√©t: f√ºggv√©nyek, strukt√∫r√°k</a>
<li><a  href="../f04/index.html">4. h√©t: pointerek, sztringek</a>
<li><a  href="../f05/index.html">5. h√©t: rendez√©sek, rekurzi√≥</a>
<li><a  href="../f06/index.html">6. h√©t: sz√°m√°br√°zol√°s, bitek</a>
<li><a  href="../f07/index.html">7. h√©t: dinamikus mem√≥riakezel√©s</a>
<li><a  href="../f08/index.html">8. h√©t: parancssor, f√°jlkezel√©s, modulok</a>
<li><a  href="../f10/index.html">10. h√©t: l√°ncolt list√°k</a>
<li><a  href="../f11/index.html">11. h√©t: bin√°ris f√°k, t√∂bbsz√∂r√∂s indirekci√≥</a>
<li><a  href="../f12/index.html">12. h√©t: √°llapotg√©pek</a>
<li><a  href="../f13/index.html">13. h√©t: generikus algoritmusok</a>
</ul>

<li><a  href="../nhflista/index.html">Nagy h√°zi lista</a>
</ul>

<li class="almenu "><a>Seg√©dlet</a>
<ul>
<li><a  href="../jegyzet/index.html">Jegyzet √©s puska</a>
<li><a  href="../fejlesztokornyezet.html">Fejleszt≈ëk√∂rnyezetek</a>
<li><a  href="../stilus/index.html">K√≥dol√°si st√≠lus</a>
<li><a  href="../for_vs_while/index.html">For vagy while?</a>
<li class="almenu "><a>Nagy h√°zi</a>
<ul>
<li><a  href="../mintanhf/index.html">Minta nagy h√°zi</a>
<li><a  href="../nhfspecifikacio/index.html">Specifik√°ci√≥: hogyan?</a>
<li><a  href="../debugmalloc/index.html">Debugmalloc, mem√≥riakezel√©s</a>
<li><a  href="../fajlkezeles/index.html">F√°jlkezel√©s, mapp√°k</a>
<li><a  href="../megjelenites/index.html">Sz√∂veges √©s grafikus megjelen√≠t√©s</a>
<li><a  href="../scanf/index.html">Scanf probl√©m√°k</a>
<li><a  href="../scanf_hibakezeles/index.html">Scanf √©s hibakezel√©s</a>
<li><a  href="index.html">Karakterk√≥dol√°sok</a>
<li><a  href="../cbtobbmodul/index.html">T√∂bb modulos programok</a>
</ul>

<li class="almenu "><a>ZH</a>
<ul>
<li><a  href="../tldr1/index.html">TL;DR I.</a>
<li><a  href="../tldr2/index.html">TL;DR II.</a>
</ul>

</ul>

<li class="almenu "><a>Extr√°k</a>
<ul>
<li class="almenu "><a>SVG √≥ra gal√©ria</a>
<ul>
<li><a  href="../orak2021/index.html">SVG √≥ra gal√©ria 2021</a>
<li><a  href="../orak2020/index.html">SVG √≥ra gal√©ria 2020</a>
<li><a  href="../orak2019/index.html">SVG √≥ra gal√©ria 2019</a>
<li><a  href="../orak2018/index.html">SVG √≥ra gal√©ria 2018</a>
<li><a  href="../orak2017/index.html">SVG √≥ra gal√©ria 2017</a>
<li><a  href="../orak2016/index.html">SVG √≥ra gal√©ria 2016</a>
<li><a  href="../orak2015/index.html">SVG √≥ra gal√©ria 2015</a>
</ul>

<li class="almenu "><a>NHF gal√©ria</a>
<ul>
<li><a  href="../nhfgaleria2021/index.html">NHF gal√©ria 2021</a>
<li><a  href="../nhfgaleria2020/index.html">NHF gal√©ria 2020</a>
<li><a  href="../nhfgaleria2019/index.html">NHF gal√©ria 2019</a>
<li><a  href="../nhfgaleria2018/index.html">NHF gal√©ria 2018</a>
<li><a  href="../nhfgaleria2017/index.html">NHF gal√©ria 2017</a>
<li><a  href="../nhfgaleria2016/index.html">NHF gal√©ria 2016</a>
<li><a  href="../nhfgaleria2015/index.html">NHF gal√©ria 2015</a>
<li><a  href="../nhfgaleria2014/index.html">NHF gal√©ria 2014</a>
<li><a  href="../nhfgaleria2013/index.html">NHF gal√©ria 2013</a>
<li><a  href="../nhfgaleria2012/index.html">NHF gal√©ria 2012</a>
</ul>

<li class="almenu "><a>Elm√©let</a>
<ul>
<li><a  href="../turing/index.html">Mit tud a sz√°m√≠t√≥g√©p?</a>
<li><a  href="../bf/index.html">BF</a>
<li><a  href="../bitturmix/index.html">Bitturmix</a>
<li><a  href="../kifesto/index.html">Z√°rt ter√ºlet kifest√©se</a>
<li><a  href="../labirintus/index.html">Labirintusok</a>
<li><a  href="../qsort/index.html">Gyorsrendez√©s</a>
<li><a  href="../tripla/index.html">Tripla indirekci√≥</a>
<li><a  href="../generikus/index.html">Generikus lista</a>
</ul>

<li class="almenu "><a>Gyakorlat</a>
<ul>
<li><a  href="../strlcpy/index.html">Kultur√°lt sztringm√°sol√≥</a>
<li><a  href="../xor_csere/index.html">XOR csere</a>
<li><a  href="../include/index.html">include</a>
<li><a  href="../inline/index.html">inline</a>
<li><a  href="../internet/index.html">Internet</a>
</ul>

<li class="almenu "><a>Grafika</a>
<ul>
<li><a  href="../sdl/index.html">SDL grafika</a>
<li><a  href="../sdl_telepito/index.html">SDL telep√≠t√©s</a>
<li><a  href="../fa/index.html">F√°k rajzol√°sa</a>
</ul>

<li class="almenu "><a>Nyelv√©szet</a>
<ul>
<li><a  href="../mondatelemzo/index.html">Mondatelemz≈ë</a>
<li><a  href="../kifejezesek/index.html">Kifejez√©sek</a>
<li><a  href="../derivalas/index.html">Deriv√°l√°s</a>
</ul>

<li><a  href="../advent/index.html">Adventi napt√°r</a>
</ul>

</ul>
</div>
</div>
</div>
</nav>

<div class="menu-font-size"><div class="menuplaceholder"></div></div>

<main class="doksi">
<div class="shaper">


<section class="slidescreen" data-title="R√©mt√∂rt√©net a karakterk√≥dol√°sokr√≥l">
<div class="slide" id="slide_0">

<a id="0" class="namer"></a>


<div class="slidecontent">
  <h1 class="eloadascim">R√©mt√∂rt√©net a karakterk√≥dol√°sokr√≥l</h1>
<div class="focim">
<p class="szerzocim"><i class="szerzo"></i> Czirkos Zolt√°n, Dobra G√°bor ¬∑ <i class="ido"></i> 2019.08.24.</p>
<p class="kivonat">√âkezetes bet≈±k, sz√∂vegek k√≥dol√°sa √©s megjelen√≠t√©se a programokban. Javasolt olvasm√°ny azoknak, akik szeretn√©k a nagy h√°zijukban megoldani a magyar √©kezetes sz√∂vegek helyes kezel√©s√©t.</p>
</div>

<img src="18.png" alt="18+" class="float">

<p>Az √©kezetes bet≈±k k√≥dol√°s√°val m√°ig gondok vannak. Sokf√©le szabv√°ny l√©tezik arra, hogy mely √©kezetes bet≈±t milyen sz√°mk√≥ddal
jel√∂l√ºnk, ami az√©rt neh√©z √ºgy, mert ezek a k√≥dt√°bl√°zatok √°ltal√°ban egym√°ssal inkompatibilisek.</p>

<p>A probl√©ma ugyan elm√©letben megoldott, l√©tezik olyan karakterk√≥dol√°s a Unicode szabv√°ny r√©szek√©nt, amely a vil√°g (majdnem)
√∂sszes nyelv√©nek (majdnem) √∂sszes √≠r√°sjel√©hez karakterk√≥dot rendel, m√©gis rendszeresen tal√°lkozunk √°rv√≠zt√ªr√µ t√ºk√∂rf√∫r√≥g√©pekkel (meg
ƒÇƒÑrvƒÇ¬≠ztƒπƒÖrƒπ t√ºk√∂rf√∫r√≥g√©pekkel) m√©g nyomtatott sz√∂vegekben is. Ennek oka sokszor a programoz√≥k figyelmetlens√©ge. Sajnos a Windows
is h√≠rhedten <a href="https://stackoverflow.com/questions/48176431/reading-utf-8-characters-from-console">hib√°s</a> √©s hi√°nyos
ilyen t√©ren.</p>

<p>A karakterk√≥dol√°si szabv√°nyok k√∂vet√©s√©vel √©s a programok helyes be√°ll√≠t√°s√°val a probl√©m√°k megsz√ºntethet≈ëk. Legt√∂bbsz√∂r csak
egy-k√©t f√ºggv√©nyh√≠v√°sr√≥l van sz√≥. Ha a r√©mt√∂rt√©net nem √©rdekel, szeretn√©l j√≥l aludni, vagy csak az√©rt vagy itt, mert az √©kezetes
sz√∂vegek nem l√°tszanak j√≥l a nagy h√°zidban, akkor lapozz az oldal legalj√°ra, a <a href="index.html#karakterrecept">receptekhez</a>.</p>






  
        <nav id="tartalom">
      <h3>Tartalom</h3>
      <ol>              <li><a href="index.html#1" class="">Az egyb√°jtos karakterk√≥dol√°sok</a>
              <li><a href="index.html#2" class="">A Unicode √°ltal defini√°lt k√≥dol√°s</a>
              <li><a href="index.html#3" class="">Az UTF-8 k√≥dol√°s</a>
              <li><a href="index.html#4" class="">√âkezetek: receptek</a>
              <li><a href="index.html#5" class="">Konverzi√≥s f√ºggv√©nyek</a>
            </ol>    </nav>
  </div>

<div class="clear"></div>

</div>
</section>


<section class="slidescreen" data-title="Az egyb√°jtos karakterk√≥dol√°sok">
<div class="slide" id="slide_1">

<a id="1" class="namer"></a>

<div class="slideheader">
  <h2 class="slidetitle">
    <span class="oldalszam">1</span><span class="oldalszamafter">. </span>    Az egyb√°jtos karakterk√≥dol√°sok<a class="hlink" href="index.html#1"><i class="hlink"></i></a>
  </h2>
</div>

<div class="slidecontent">
  
<p>Az angol nyelvben haszn√°lt, √©kezet n√©lk√ºli bet≈±kh√∂z az ASCII k√≥dol√°s terjedt el. Err≈ël el≈ëad√°son is volt sz√≥. Egykor voltak m√°s
k√≥dol√°sok is, de a ASCII m√°ra gyakorlatilag egyeduralkod√≥v√° v√°lt.</p>

<p>A nyugat-eur√≥pai nyelvekhez (pl. a franci√°hoz) haszn√°lj√°k ennek a Latin-1, vagy m√°s n√©ven ISO8859-1-es b≈ëv√≠t√©s√©t. Ez az ASCII
k√≥dol√°s 128 k√≥dj√°t √∫jabb 96 karakterrel eg√©sz√≠ti ki a 160-255 tartom√°nyban, √≠gy ez m√°r 8 bites. Ebben sajnos nincsen benne a magyar
≈ë √©s ≈± bet≈±. A testv√©r√©ben, a Latin-2-ben (ISO8859-2) benne van, √≠gy ezzel b√°rmilyen magyar sz√∂veg le√≠rhat√≥. Ebben a magyar ≈± bet≈±
hely√©n a Latin-1-esben √ª van, az ≈ë hely√©n pedig √µ. Ez√©rt tal√°lkozni n√©ha ilyenekkel: √°rv√≠zt√ªr√µ t√ºk√∂rf√∫r√≥g√©p, amikor egy Latin-2
k√≥dol√°ssal megadott sztringet Latin-1 k√≥dol√°s√∫nak gondol egy program, vagy esetleg egy bet≈±t√≠pusban szerepel helytelen√ºl, hogy
melyik ‚Äûalakzat‚Äù (graf√©ma) melyik karaktert is jelenti.</p>

<p>A Latin-2-h√∂z hasonl√≥ k√≥dol√°st haszn√°l a Windows a sz√∂vegf√°jlokn√°l (Windows-1250). A konzol ablakban sajnos egy m√°sikat
(IBM-852), amely a Latin-1-2-re egy√°ltal√°n nem hasonl√≠t. Ezek a k√≥dol√°sok a lenti k√©peken l√°that√≥ak.</p>

<div class="columns">

<div>
<img class="kozep" src="latin1.png">
<div class="kozep">ISO8859-1 (Latin-1)</div>
</div>

<div>
<img class="kozep" src="latin2.png">
<div class="kozep">ISO8859-2 (Latin-2)</div>
</div>

<div>
<img class="kozep" src="ibm852.png">
<div class="kozep">IBM-852</div>
</div>
</div>

<p>A karakterk√≥dol√°sok k√∂z√∂tti inkompatibilit√°s probl√©m√°ja akkor jelentkezik, amikor a programunkban √©kezetes sz√∂veget szeretn√©nk
ki√≠rni. Ha azt mondjuk a Code::Blocksban (Windowson), hogy <code>printf("≈ë")</code>, a keletkez≈ë sztring a <code>0xF5</code>,
<code>0x00</code> b√°jtokb√≥l √°ll: az <code>≈ë</code> k√≥dja √©s a lez√°r√≥ nulla. De a konzolablakban a <code>0xF5</code> a paragrafus
jel <code>¬ß</code> karakterk√≥dja! Ha k√©r√ºnk egy sztringet, az viszont helyesen fog megjelenni ki√≠r√°skor, mivel a programunkban
t√∂rt√©n≈ë beolvas√°skor m√°r az IBM-852 szerinti k√≥dok vannak:</p>

<pre class="screenshot">
‚ïêrd be, hogy tenisz≈òt¬ß!
tenisz√ºt≈ë
Ezt √ùrtad be: tenisz√ºt≈ë
</pre>

<p>Ha a konzol ablakhoz kiv√°lasztunk egy olyan bet≈±t√≠pust, amely tartalmazza a megfelel≈ë √©kezetes karaktereket (pl. a Consolas √©s a
Lucida Console ilyen), √©s a parancssorban a program futtat√°sa el≈ëtt √°tv√°ltjuk a karakterk√≥dol√°st arra, amelyik k√≥dol√°ssal a
forr√°sk√≥dot is elmentett√ºk, helyesen jelenhet meg a sz√∂veg. Ehhez a lenti <a href="index.html#karakterrecept">receptekn√©l</a> a konzolos programokhoz √≠rt √∫tmutat√≥t kell haszn√°lni.</p>




  
    </div>

<div class="clear"></div>

</div>
</section>


<section class="slidescreen" data-title="A Unicode √°ltal defini√°lt k√≥dol√°s">
<div class="slide" id="slide_2">

<a id="2" class="namer"></a>

<div class="slideheader">
  <h2 class="slidetitle">
    <span class="oldalszam">2</span><span class="oldalszamafter">. </span>    A Unicode √°ltal defini√°lt k√≥dol√°s<a class="hlink" href="index.html#2"><i class="hlink"></i></a>
  </h2>
</div>

<div class="slidecontent">
  
<p>A t√∂bbnyelv≈± sz√∂vegek nem √≠rhat√≥ak le a fenti k√≥dol√°sokkal. Nem csak az a baj, hogy egy cirill vagy jap√°n bet≈±k nem szerepelnek
benn√ºk, hanem p√©ld√°ul m√©g egy latin bet≈±s √∫tik√∂nyvvel is gondban vagyunk! A Latin-1-ben nincs ≈ë, a Latin-2-ben nincs √∏, ez√©rt ez a
mondat nem √≠rhat√≥ le egyikkel sem: D√°nia f≈ëv√°rosa K√∏benhavn.</p>

<img src="unicode.svg" class="float">

<p> A '80-as √©vek v√©ge t√°j√°n felmer√ºlt, hogy l√©tre kellene hozni egy olyan k√≥dt√°bl√°t, amely a vil√°g √∂sszes nyelv√©nek √∂sszes
karakter√©t tartalmazza, mert akkor nem lesz ilyen gond. Ez lett a Unicode szabv√°ny r√©sze. Mivel azonban az √∂sszes l√©tez≈ë √≠r√°sjelek
256-n√°l t√∂bben vannak, ebben egy karaktert m√°r nem egy b√°jttal, hanem egy nagyobb sz√°mmal jel√∂lnek. Aminek pedig az a
k√∂vetkezm√©nye, hogy egy Unicode sztring k√∂zvetlen√ºl nem jelenhet meg <code>char</code> t√∂mbk√©nt a C programunkban, mert a
<code>char</code> a C fogalmai szerint b√°jtot jelent.</p>

<p>A Unicode szabv√°nyban a legt√∂bb karakter elf√©r 16 biten, de √∫jabb verzi√≥kban ak√°r m√©g nagyobbak lehetnek. M√≠g pl. az ≈ë bet≈± vagy
az ‚Ç¨ jel √°br√°zolhat√≥ 16 bites sz√°mmal (karakterk√≥djuk 337 √©s 8364), addig m√°s jelekhez, pl. emoji-khoz 2<sup>16</sup>, azaz 65536
feleti sz√°m tartozik (üò∫ k√≥dja 128570, ü§° pedig 129313).</p>

<p>Az egyb√°jtos karakterk√≥dokr√≥l Unicode-ra √°talak√≠tani egy sz√∂veget nagyon k√∂nny≈±; egy 256 elem≈± t√∂mbben elt√°rolhatjuk, melyik
k√≥db√≥l mi lesz. Az egyes k√≥dol√°sokhoz (Latin-1, Latin-2 stb.) azonban elt√©r≈ë t√°bl√°zatok tartoznak. A visszaalak√≠t√°s nem ilyen
egyszer≈±, mert b√°r technikailag k√∂nnyen megval√≥s√≠that√≥, k√∂nnyen el≈ëfordulhat, hogy olyan karaktert kell √°tk√≥dolni, ami a c√©l
k√≥dt√°bl√°ban nem l√©tezik. A halmazelm√©letben haszn√°lt ‚àâ ‚Äûnem eleme‚Äù szimb√≥lum p√©ld√°ul semelyik fenti t√°bl√°zatban nem l√©tezik.</p>

<p>F√∂lmer√ºl m√©g egy probl√©ma az egy b√°jtn√°l nagyobb sz√°mok miatt. Egyes sz√°m√≠t√≥g√©pt√≠pusok √∫gy t√°rolj√°k a 16 bites sz√°mokat ‚Äì
amelyeket k√©t 8 bites b√°jtk√©nt kell elhelyezni a mem√≥ri√°ban ‚Äì, hogy az als√≥ 8 bitet √≠rj√°k el≈ëbb, √©s ut√°na a fels≈ë 8-at. Vagyis
el≈ëbb a kicsit (little endian). M√°s g√©pek meg √©pp ford√≠tva, el≈ëre veszi a fels≈ë 8 bitet, √©s ut√°na, a k√∂vetkez≈ë mem√≥riarekeszbe
pedig az als√≥ 8 bitet (big endian). Ez eg√©szen addig nem gond, am√≠g k√©t, elt√©r≈ë t√≠pus√∫ sz√°m√≠t√≥g√©pnek nem kell kommunik√°lnia
egym√°ssal. Viszont ha ezek az Interneten kereszt√ºl adatot k√ºlden√©nek egym√°snak, vagy szeretn√©k olvasni az egym√°s √°ltal ki√≠rt
f√°jlokat, akkor m√°r figyelni kell arra, hogy esetleg nem ugyanazt a b√°jtsorrendet haszn√°lj√°k ‚Äì k√ºl√∂nben amit az egyik
<code>0xFCE2</code>-nek mond, azt a m√°sik <code>0xE2FC</code>-nek fogja √©rtelmezni, √©s ford√≠tva. Nagyobb sz√°mok (pl. 32 bites
integerek) eset√©n hasonl√≥ a helyzet.</p>

<p>Ez√©rt a Unicode k√≥dol√°s√∫ sz√∂vegekben el szoktak helyezni egy √∫n. BOM (byte order mark, b√°jtsorrend jele) karaktert, amelynek a
k√≥dja <code>0xFEFF</code>. Ha a sz√∂veget olvas√≥ sz√°m√≠t√≥g√©p egy <code>0xFEFF</code> k√≥dot tal√°l a sz√∂vegben, akkor tudja, hogy annak
b√°jtsorrendje megegyezik a saj√°tj√°val. Ha azonban egy <code>0xFFFE</code> sz√°mot l√°t (amely sz√°nd√©kosan semmilyen karakternek nem
k√≥dja), akkor tudja, hogy minden sz√°mban meg kell cser√©lnie a fels≈ë √©s als√≥ nyolc bitet.</p>

<p>A BOM-mal kieg√©sz√≠tett, ‚ÄûHELLO‚Äù sz√∂veget t√°rol√≥ f√°jlok b√°jtsorrendt≈ël f√ºgg≈ëen √≠gy n√©zhetnek ki (16 bites t√∂mbelemeket
felt√©telezve):</p>

<div class="columns">
<div><pre class="screenshot"><strong>FE FF</strong> 00 48 00 45 00 4C 00 4C 00 4F</pre></div>
<div><pre class="screenshot"><strong>FF FE</strong> 48 00 45 00 4C 00 4C 00 4F 00</pre></div>
</div>




  
    </div>

<div class="clear"></div>

</div>
</section>


<section class="slidescreen" data-title="Az UTF-8 k√≥dol√°s">
<div class="slide" id="slide_3">

<a id="3" class="namer"></a>

<div class="slideheader">
  <h2 class="slidetitle">
    <span class="oldalszam">3</span><span class="oldalszamafter">. </span>    Az UTF-8 k√≥dol√°s<a class="hlink" href="index.html#3"><i class="hlink"></i></a>
  </h2>
</div>

<div class="slidecontent">
  
<p>A Unicode k√≥dol√°s elm√©letben visszafel√© kompatibilis az ASCII k√≥dol√°ssal, ugyanis az els≈ë 128 karaktere ugyanabban a sorrendben
van. Azonban a sz√∂vegf√°jlok a b√°jtsorrend miatt m√©gsem kompatibilisek egym√°ssal. Ez√©rt tal√°lt√°k ki az UTF-8 sz√∂vegk√≥dol√°st. Az
ilyen sz√∂vegekben a Unicode k√≥dsz√°mokat haszn√°lj√°k, azonban mindig 8 bites √©rt√©kekb≈ël √©p√≠tik fel azt, √°talak√≠tva a nagyobb sz√°mokat
t√∂bb b√°jtos sorozatokk√°. Ha a le√≠rand√≥ k√≥dsz√°m elf√©r 7 biten (vagyis <code>0x00</code> √©s <code>0x7F</code> k√∂z√∂tt van), akkor le
kell v√°gni 8 bitre, √©s √∫gy tenni a f√°jlba. Ha enn√©l nagyobb, akkor kett≈ë, h√°rom, s≈ët n√©ha m√©g t√∂bb b√°jtos sorozattal √≠rhat√≥ le. A
b√°jtok sorrendje azonban az ilyen sorozatokban k√∂t√∂tt, teh√°t nem f√ºgg a sz√°m√≠t√≥g√©p t√≠pus√°t√≥l. Az √°tk√≥dol√°s az al√°bbi m√≥don helyezi
el a biteket:</p>

<table>
    <thead>
        <tr><th>Tartom√°ny<th>Unicode<th>UTF-8
    </thead>
    <tr><td><code>&nbsp;&nbsp;&nbsp;00-&nbsp;&nbsp;7F</code><td><code>00000000 xxxxxx</code><td><code>xxxxxx</code>
    <tr><td><code>&nbsp;&nbsp;&nbsp;80-07FF</code><td><code>00000yyy yyxxxxxx</code><td><code>110yyyyy 1xxxxx</code>
    <tr><td><code>&nbsp;0800-FFFF</code><td><code>zzzzyyyy yyxxxxxx</code><td><code>1110zzzz 10yyyyyy 1xxxxx</code>
    <tr><td><code>10000‚Äì</code><td>...</td><td>...</td>
</table>

<p>A Wikipedia az Eur√≥ jel√©t hozza p√©ld√°nak, hogyan n√©z ki egy karakter UTF-8 k√≥dol√°sa:</p>

<ul>
    <li>Az ‚Ç¨ karakter k√≥dsz√°ma <code>0x20AC</code>.
    <li>Ez bin√°risan <code><span style="color: red;">0010</span><span style="color: green;">000010</span><span style="color: blue;">101100</span></code>, ami a fenti
        t√°bl√°zat alapj√°n a harmadik kateg√≥ri√°ba esik. Vagyis h√°rom b√°jton lesz k√≥dolhat√≥.
    <li>Az els≈ë b√°jt viszi az els≈ë n√©gy bitet: <code>1110<span style="color: red;">0010</span></code>.
        A m√°sodik a k√∂vetkez≈ë hatot: <code>10<span style="color: green;">000010</span></code>.
        Az utols√≥ a marad√©kot: <code>10<span style="color: blue;">101100</span></code>.
    <li>A kapott b√°jtok: <code><span style="color: red;">0xE2</span> <span style="color: green;">0x82</span> <span style="color: blue;">0xAC</span></code>.
</ul>

<p>Az UTF-8 k√≥dol√°s√∫ sztringek, mivel b√°jtokb√≥l √°llnak, a C forr√°sk√≥dokban ‚Äû√∫jra‚Äù <code>char[]</code> t√∂mbk√©nt jelenhetnek meg.
Ezekn√©l azonban a be√©p√≠tett sztringkezel≈ë f√ºggv√©nyeket haszn√°lva el√©g furcsa dolgokat tapasztalhatunk. Pl. az <code>strlen()</code>
f√ºggv√©ny szerint <code>"o"</code> hossza 1, viszont <code>"≈ë"</code> hossza 2, v√©g√ºl <code>"‚Ç¨"</code> eset√©ben 3 a sz√°m√≠tott hossz.
Az <code>≈ë</code> bet≈±t k√©t b√°jt k√≥dolja, m√≠g az <code>o</code> bet≈±t csak egy, √©s ezt az <code>strlen()</code> nem tudja. Megkell
szokni, a <code>char</code> sajnos ilyenkor nem karaktert, hanem b√°jtot jelent. M√©g j√≥, hogy a t√∂bbi f√ºggv√©ny, pl. a
<code>strcpy()</code> √©s a <code>strcmp()</code> nagyj√°b√≥l helyesen m≈±k√∂dik. V√©g√ºlis ez volt a c√©lja az UTF-8 megalkot√≥inak.</p>

<p>Egy Unicode k√≥dol√°s√∫ sz√∂veget UTF-8 b√°jtsorozatt√° alak√≠tani k√∂nny≈±, n√©h√°ny bitm≈±veletr≈ël van sz√≥:</p>

<pre   ><code class="language-c">#include &lt;stdio.h&gt;
#include &lt;stdint.h&gt;
#ifdef _WIN32
    #include &lt;windows.h&gt;
#endif

/* Unicode sztringbol UTF-8 sztringet csinal.
 * A bemenet es a kimenet is nullaval terminalt tomb.
 * A kodolas csak 16 bites karakterekre mukodik. */
void unicode_2_utf8(uint16_t const *be, uint8_t *ki) {
    int pk = 0;
    for (int pb = 0; be[pb] != 0; ++pb) {
        if (be[pb] &lt;= 0x007F) {
            // 00000000 0xxxxxxx, 0x0000-0x007F
            // 0xxxxxxx
            ki[pk++] = be[pb];
        } else if (be[pb] &lt;= 0x07FF) {
            // 00000yyy yyxxxxxx, 0x0080-0x07FF
            // 110yyyyy 10xxxxxx
            ki[pk++] = 0xC0 | be[pb] &gt;&gt; 6;      // 0xC0 = 11000000
            ki[pk++] = 0x80 | (be[pb] &amp; 0x3F);  // 0x80 = 10000000, 0x3F = 00111111
        } else {
            // zzzzyyyy yyxxxxxx, 0x0800-0xFFFF
            // 1110zzzz 10yyyyyy 10xxxxxx
            ki[pk++] = 0xE0 | be[pb] &gt;&gt; 12;     // 0xE0 = 11100000
            ki[pk++] = 0x80 | ((be[pb] &gt;&gt; 6) &amp; 0x3F);
            ki[pk++] = 0x80 | (be[pb] &amp; 0x3F);
        }
    }

    ki[pk] = 0;
}

int main(void) {
#ifdef _WIN32
    SetConsoleOutputCP(CP_UTF8);
#endif

    uint16_t arvizturo[] = { 0x00E1, 'r', 'v', 0x00ED, 'z', 't',
                             0x0171, 'r', 0x0151, ' ', 0x263A, ' ', 0x20AC,
                             0x0000 };
    uint8_t arvizturo_utf8[30];

    unicode_2_utf8(arvizturo, arvizturo_utf8);
    printf(&quot;arvizturo szmajli, es euro: %s\n&quot;, arvizturo_utf8);
}</code></pre>

<p>A visszaalak√≠t√°s ugyanilyen egyszer≈±. A programot elind√≠tva ennek kell megjelennie: √°rv√≠zt≈±r≈ë ‚ò∫ ‚Ç¨. Linuxon egyb≈ël ez fog 
megjelenni (ez UTF-8 k√≥dol√°st haszn√°l szinte mindenhol), a Windowsokon meg a k√≥dlapot √°t kell √°ll√≠tani, a lentebbi <a href="index.html#karakterrecept">recepteknek</a> megfelel≈ëen.</p>


  
    </div>

<div class="clear"></div>

</div>
</section>


<section class="slidescreen" data-title="√âkezetek: receptek">
<div class="slide" id="slide_4">

<a id="4" class="namer"></a>
  <a id="karakterrecept" class="namer"></a>

<div class="slideheader">
  <h2 class="slidetitle">
    <span class="oldalszam">4</span><span class="oldalszamafter">. </span>    √âkezetek: receptek<a class="hlink" href="index.html#4"><i class="hlink"></i></a>
  </h2>
</div>

<div class="slidecontent">
  
<p>Az al√°bbi k√≥dr√©szletek a nagy h√°zikban szabadon felhaszn√°lhat√≥ak.</p>


<h3>Linux konzol ablak √©s f√°jlok</h3>

<p>Nincs k√ºl√∂n√∂sebb teend≈ë, minden m≈±k√∂dik mag√°t√≥l. A legt√∂bb Linux UTF-8 k√≥dol√°st haszn√°l a parancssori ablakokban √©s a f√°jlokban
is, √∫gyhogy semmi extra teend≈ë nincsen, r√∂gt√∂n m≈±k√∂dnek az √©kezetes bet≈±t haszn√°l√≥ programok. Egy dologra kell figyelni, hogy az
UTF-8-ban karakter&ne;b√°jt! Mivel az √©kezetes bet≈±k kett≈ë, egy√©b karakterek ak√°r t√∂bb b√°jton lehetnek k√≥dolva, a sztringek indexei
elcs√∫sznak, √©s hosszaik nem egyeznek meg az <code>strlen()</code> √°ltal adottakkal. P√©ld√°ul <code>strlen("tenisz√ºt≈ë")</code> √©rt√©ke
11. Ez 9 karakter, 11 b√°jt hossz√∫ sztring, 12 b√°jtnyi mem√≥riafoglal√°s. (Az <code>utf8_strlen()</code> f√ºggv√©ny meg√≠r√°sa h√°zi
feladat.)</p>



<h3>Windows konzol ablak ‚Äì Windows-1250 k√≥dol√°ssal</h3>

<img src="terminal.png" class="float">

<p>B√°r a Windows m√°r az XP verzi√≥ √≥ta t√°mogatja az 1993 √≥ta l√©tez≈ë UTF-8 szabv√°nyt, alapbe√°ll√≠t√°s eset√©n m√©g mindig nem haszn√°lja. A
Windows 10-ben az UTF-8 t√°mogat√°sa <a
href="https://stackoverflow.com/questions/48176431/reading-utf-8-characters-from-console">konkr√©tan hib√°s</a>, √≠gy k√©nytelenek
vagyunk a m√∫ltat konzerv√°lni, √©s Windows-1250 karakterk√≥dol√°st haszn√°lni.</p>

<p>A teend≈ëk ehhez:</p>

<ul>
    <li>A parancssori ablakot √∫gy be√°ll√≠tani, hogy Consolas, vagy egy m√°sik, Unicode-kompatibilis bet≈±t√≠pust haszn√°ljon. Az
    ablak ikonj√°ra klikk, Alap√©rtelmez√©sek (Defaults), Bet≈±t√≠pus (Font). A k√∂vetkez≈ë ablak megnyit√°sakor j√≥ lesz.</li>

    <li>Figyelni kell arra, hogy a forr√°sk√≥dok Windows-1250 k√≥dol√°ssal legyenek elmentve. Ehhez a Code::Blocks <em>Edit / File
    encoding</em> men√ºpontja alatt a <em>System default</em> lehet≈ës√©get kell kiv√°lasztani. Ha van olyan kor√°bban l√©trehozott
    f√°jlunk, amiben m√°r vannak √©kezetes karakterek, csak nem j√≥l jelennek meg, √°t kellhet konvert√°lni a f√°jlt, annak megnyit√°s√°val
    √©s √∫jb√≥li elment√©s√©vel.

    <li>Ha a program haszn√°l sz√∂veges adatf√°jlokat, azokat a fentiekhez hasonl√≥an Windows-1250 k√≥dol√°ssal kell elmenteni.

    <li>A program elej√©n kiv√°lasztani ezt a k√≥dol√°st a lenti k√≥dr√©szlettel.
</ul>

<p>A konzol ablak k√≥dlapj√°nak be√°ll√≠t√°sa megtehet≈ë k√©t f√ºggv√©nyh√≠v√°ssal: <code>SetConsoleCP(1250)</code> √©s 
<code>SetConsoleOutputCP(1250)</code>. Az egyik a bemeneti k√≥dlapot √°ll√≠tja be, a m√°sik pedig a kimeneti k√≥dlapot. (Hogy mi√©rt t√©r 
el a beolvas√°skor √©s ki√≠r√°skor haszn√°lt karakterk√≥dol√°s a Windowsban, mi√©rt kell ezeket k√ºl√∂n be√°ll√≠tani, egy √∂r√∂k rejt√©ly a vil√°g 
sz√°m√°ra.) Vigy√°zat, ezek nem szabv√°nyos f√ºggv√©nyh√≠v√°sok! Illik ≈ëket <code>#ifdef</code>-ek k√∂z√© tenni, hogy maradjanak 
hat√°stalanok, ha m√°s oper√°ci√≥s rendszeren ford√≠tja valaki a programot. A k√©t f√ºggv√©nyh√≠v√°st el√©g a program elej√©n egyszer megtenni 
(praktikusan a <code>main()</code> elej√©n valamikor), t√∂bbsz√∂r m√°r nem.</p>

<pre   ><code class="language-c">#include &lt;stdio.h&gt;
#ifdef _WIN32
    #include &lt;windows.h&gt;
#endif


int main(void) {
#ifdef _WIN32
    SetConsoleCP(1250);
    SetConsoleOutputCP(1250);
#endif

    printf(&quot;√çrd be, hogy tenisz√ºt≈ë!\n&quot;);
    char s[100];
    scanf(&quot;%s&quot;, s);
    printf(&quot;Ezt √≠rtad be: %s.&quot;, s);

    return 0;
}</code></pre>

<p>A Windows-1250 k√≥dol√°ssal ment√©s k√∂nnyen ellen≈ërizhet≈ë. Csak meg kell vizsg√°lni, hogy egy adott bet≈± karakterk√≥dja egyezik-e az
√°ltalunk elv√°rttal:</p>

<pre   ><code class="language-c">#include &lt;assert.h&gt;

int main(void) {
    assert((unsigned char)'≈ë' == 245);
}</code></pre>


<p>√úgyelni kell arra, hogy bizonyos karakterek (pl. ‚ò∫) nem jelen√≠thet≈ëk meg ezzel a k√≥dol√°ssal. Ilyenkor a Code::Blocks
automatikusan √°t√°ll UTF-8-ra, k√ºl√∂nben el sem tudn√° menteni a f√°jlt! A Code::Blocks-nak n√©ha az <code>≈ë</code> bet≈±vel is gondja
akad, pl. angol nyelv≈± Windowson. Ha ment√©s k√∂zben a lentebb l√°that√≥ figyelmeztet≈ë ablak ugrik fel, akkor a Windows nincs magyar
nyelv≈±re √°ll√≠tva, vagy esetleg a program valamelyik sztringje olyan karaktert tartalmaz, ami nem elmenthet≈ë ilyen form√°ban.
A magyar nyelv≈±re √°ll√≠t√°shoz a vez√©rl≈ëpult ter√ºleti be√°ll√≠t√°sai (Region) k√∂z√∂tt kell kutakodni.</p>

<div class="columns">
<div>
<img src="encoding_changed.png" class="kozep arnyek" alt="Figyelmeztet≈ë √ºzenet a hib√°s karakterk√≥dol√°sr√≥l">
</div>
<div>
<img src="region.png" class="kozep arnyek" style="width: 300px" alt="Vez√©rl≈ëpult, ter√ºleti be√°ll√≠t√°sok">
</div>
</div>



<h3>SDL ‚Äì UTF-8 k√≥dol√°ssal</h3>

<img src="sdl.png" class="float">

<p>Az <a href="../sdl/index.html">SDL-es</a> programokn√°l √©rdemes ink√°bb UTF-8 karakterk√≥dol√°st haszn√°lni. Az SDL_TTF
k√∂nyvt√°r <code>TTF_RenderUTF8_Blended</code> √©s hasonl√≥ f√ºggv√©nyei k√∂zvetlen√ºl is t√°mogatj√°k ezt a k√≥dol√°st.</p>

<p>Arra kell csak figyelni, hogy a program forr√°sk√≥dja √©s a sz√∂veges adatf√°jljai is UTF-8 k√≥dol√°ssal legyenek elmentve. Ehhez a
Code::Blocks <em>Edit / File encoding</em> men√ºpontja alatt az <em>UTF-8</em> lehet≈ës√©get kell kiv√°lasztani. Ha van olyan kor√°bban
l√©trehozott f√°jlunk, amiben m√°r vannak √©kezetes karakterek, csak nem j√≥l jelennek meg, akkor √°t kellhet konvert√°lni a f√°jlt, annak
megnyit√°s√°val √©s √∫jb√≥li elment√©s√©vel.</p>

<p>Az UTF-8 k√≥dol√°ssal ment√©s k√∂nnyen ellen≈ërizhet≈ë:</p>

<pre   ><code class="language-c">#include &lt;assert.h&gt;
#include &lt;string.h&gt;

int main(void) {
    assert(strlen(&quot;≈ë&quot;) == 2);
}</code></pre>



<h3>UTF-8 BOM karakter a Windows sz√∂vegf√°jljaiban</h3>

<p>Az UTF-8 k√≥dol√°s gyakorlatilag a Unicode karakterek k√≥djait haszn√°lja, azoknak egy k√©nyelmesebb √°br√°zol√°si m√≥dja. Azt azonban
nem k√∂ti meg az UTF-8 szabv√°ny, hogy a Unicode f√°jlok elej√©n l√©v≈ë BOM-ot tartalmaznia kell-e egy UTF-8 f√°jlnak. Mivel a b√°jtok
sorrendje k√∂t√∂tt, teljesen felesleges jelezni a b√°jtsorrendet, √≠gy a legt√∂bb program nem haszn√°l UTF-8 k√≥dol√°s eset√©n BOM-ot.</p>

<p>N√©h√°ny windowsos program (pl. Notepad) ennek ellen√©re elhelyezi ezt a b√°jtot a f√°jlok elej√©re, ezzel sz√°mos probl√©m√°t okozva.
Sok program erre nincs felk√©sz√≠tve, hiszen logik√°tlan a dolog. Ironikus m√≥don az Internet Exporer is ilyen, pedig az is a Windows
r√©sze.</p>

<p>A BOM k√≥dja <code>0xFEFF</code>, ami a <code>0x0800-0xFFFF</code> tartom√°nyba esik, √≠gy UTF-8 reprezent√°ci√≥ja h√°rom b√°jtos: <code>EF BB
BF</code>. Pl. az ‚Äû√°rv√≠zt≈±r≈ë‚Äù sz√∂veg egy sz√∂vegf√°jlban:</p>

<pre>
C3 A1 72 76 C3 AD 7A 74 C5 B1 72 C5 91          (UTF-8)
<strong>EF BB BF</strong> C3 A1 72 76 C3 AD 7A 74 C5 B1 72 C5 91 (UTF-8 + BOM)
</pre>

<p>Ha ilyet l√°tunk a f√°jl elej√©n, egyszer≈±en el kell dobni az els≈ë h√°rom b√°jtot.</p>

<pre   ><code class="language-c">char buf[3];
fscanf(fp, &quot;%3c&quot;, buf);
if (memcmp(buf, &quot;\xEF\xBB\xBF&quot;, 3) != 0) /* ha nem bom-mal kezd≈ëdik a f√°jl */
    fseek(fp, 0, SEEK_SET);              /* vissza az elej√©re */
/* ... a f√°jl kezel√©se ... */</code></pre>



  
    </div>

<div class="clear"></div>

</div>
</section>


<section class="slidescreen" data-title="Konverzi√≥s f√ºggv√©nyek">
<div class="slide" id="slide_5">

<a id="5" class="namer"></a>

<div class="slideheader">
  <h2 class="slidetitle">
    <span class="oldalszam">5</span><span class="oldalszamafter">. </span>    Konverzi√≥s f√ºggv√©nyek<a class="hlink" href="index.html#5"><i class="hlink"></i></a>
  </h2>
</div>

<div class="slidecontent">
  

<h3>Konverzi√≥: Latin-2-b≈ël Unicodeba</h3>

<p>Ha egy Windowson egy Latin-2 k√≥dol√°s√∫ f√°jlb√≥l beolvasott sz√∂veget kell megjelen√≠teni az SDL-lel, akkor ilyen ir√°ny√∫ √°talak√≠t√°st
kell csin√°lni. Az al√°bbi f√ºggv√©nnyel oldhat√≥ meg:</p>

<pre   ><code class="language-c">/* Latin2 -&gt; 16 bites Unicode atalakitas. Az SDL is ilyet
 * hasznal, az uint16_t az SDL-beli Uint16-tal egyenerteku. */
void latin2_2_unicode(char *be, uint16_t *ki) {
    static uint16_t tabla[128] = {
        /* A 0x80-0xFF karakterek Unicode megfeleloje */
        0x80, 0x81, 0x82, 0x83, 0x84, 0x85, 0x86, 0x87, 0x88, 0x89,
        0x8A, 0x8B, 0x8C, 0x8D, 0x8E, 0x8F, 0x90, 0x91, 0x92, 0x93,
        0x94, 0x95, 0x96, 0x97, 0x98, 0x99, 0x9A, 0x9B, 0x9C, 0x9D,
        0x9E, 0x9F, 0xA0, 0x104, 0x2D8, 0x141, 0xA4, 0x13D, 0x15A,
        0xA7, 0xA8, 0x160, 0x15E, 0x164, 0x179, 0xAD, 0x17D, 0x17B,
        0xB0, 0x105, 0x2DB, 0x142, 0xB4, 0x13E, 0x15B, 0x2C7, 0xB8,
        0x161, 0x15F, 0x165, 0x17A, 0x2DD, 0x17E, 0x17C, 0x154,
        0xC1, 0xC2, 0x102, 0xC4, 0x139, 0x106, 0xC7, 0x10C, 0xC9,
        0x118, 0xCB, 0x11A, 0xCD, 0xCE, 0x10E, 0x110, 0x143, 0x147,
        0xD3, 0xD4, 0x150, 0xD6, 0xD7, 0x158, 0x16E, 0xDA, 0x170,
        0xDC, 0xDD, 0x162, 0xDF, 0x155, 0xE1, 0xE2, 0x103, 0xE4,
        0x13A, 0x107, 0xE7, 0x10D, 0xE9, 0x119, 0xEB, 0x11B, 0xED,
        0xEE, 0x10F, 0x111, 0x144, 0x148, 0xF3, 0xF4, 0x151, 0xF6,
        0xF7, 0x159, 0x16F, 0xFA, 0x171, 0xFC, 0xFD, 0x163, 0x2D9
    };

    int j = 0;
    for (int i = 0; be[i] != 0; ++i) {
        if (be[i] &lt; 128) /* ascii? */
            ki[j++] = be[i];
        else
            ki[j++] = tabla[be[i] - 128];
    }
    ki[j] = 0;
}</code></pre>


<h3>Konverzi√≥: Unicode-b√≥l UTF-8-ba</h3>

<p>Ha egy SDL-en, billenty≈±zetr≈ël beolvasott sztringet
kell f√°jlba √≠rni, vagy m√°s, megl√©v≈ë UTF-8 sztringekbe beilleszteni:</p>

<pre   ><code class="language-c">/** Unicode -&gt; UTF-8, legfeljebb 16 bitre. */
void unicode_2_utf8(uint16_t const *be, uint8_t *ki) {
    int pk = 0;
    for (int pb = 0; be[pb] != 0; ++pb) {
        if (be[pb] &lt;= 0x007F) {
            // 00000000 0xxxxxxx, 0x0000-0x007F
            // 0xxxxxxx
            ki[pk++] = be[pb];
        } else if (be[pb] &lt;= 0x07FF) {
            // 00000yyy yyxxxxxx, 0x0080-0x07FF
            // 110yyyyy 10xxxxxx
            ki[pk++] = 0xC0 | be[pb] &gt;&gt; 6;      // 0xC0 = 11000000
            ki[pk++] = 0x80 | (be[pb] &amp; 0x3F);  // 0x80 = 10000000, 0x3F = 00111111
        } else {
            // zzzzyyyy yyxxxxxx, 0x0800-0xFFFF
            // 1110zzzz 10yyyyyy 10xxxxxx
            ki[pk++] = 0xE0 | be[pb] &gt;&gt; 12;     // 0xE0 = 11100000
            ki[pk++] = 0x80 | ((be[pb] &gt;&gt; 6) &amp; 0x3F);
            ki[pk++] = 0x80 | (be[pb] &amp; 0x3F);
        }
    }
    ki[pk] = 0;
}</code></pre>


<h3>Konverzi√≥: UTF-8-b√≥l Unicode-ba</h3>

<p>Ha UTF-8 sztringek vagy f√°jlok karaktereit kellene egyes√©vel l√°tni:</p>

<pre   ><code class="language-c">/* UTF-8 bajtsorozatbol allitja elo az Unicode sztringet.
 * Mindketto nullaval terminalt.
 * Nincs hibakezeles: a bemeneti bajtsorozatnak helyesnek kell lennie,
 * es legfeljebb 3 bajtos szekvenciakat tartalmazhat! */
void utf8_2_unicode(uint8_t const *be, uint16_t *ki) {
    int pk = 0;
    for (int pb = 0; be[pb] != 0; ++pb) {
        if (be[pb] &lt; 0x80) {
            // 00000000 0xxxxxxx, 0x0000-0x007F
            // 0xxxxxxx
            ki[pk++] = be[pb];
        }
        else if (be[pb] &gt;&gt; 5 == 6) { /* 0x6 = 110 bin */
            // 00000yyy yyxxxxxx, 0x0080-0x07FF
            // 110yyyyy 10xxxxxx
            ki[pk++] = (be[pb] &amp; 0x1f) &lt;&lt; 6 | (be[pb + 1] &amp; 0x3f);
            pb += 1;            /* ket bajtot hasznaltunk */
        }
        else {
            // zzzzyyyy yyxxxxxx, 0x0800-0xFFFF
            // 1110zzzz 10yyyyyy 10xxxxxx
            ki[pk++] = (be[pb] &amp; 0x0f) &lt;&lt; 12
                       | (be[pb + 1] &amp; 0x3f) &lt;&lt; 6
                       | (be[pb + 2] &amp; 0x3f);
            pb += 2;            /* harom bajtot hasznaltunk */
        }
    }
    ki[pk] = 0;
}</code></pre>
  
    </div>

<div class="clear"></div>

</div>
</section>

</div>
</main>

<footer role="contentinfo">
<div class="shaper">
<div class="footer ">
  <a href="../index/index.html"><img src="../modulz/logo.png" class="footerlogo" alt="Logo"></a>
<div>InfoC ‚Äì Programoz√°s alapjai I.</div>
<div class="csakkepernyon">
            <a href="../index/index.html">f≈ëoldal</a>
         ¬∑     <a href="../elerhetoseg/index.html">el√©rhet≈ës√©g</a>
         ¬∑     <a href="../elerhetoseg/index.html#licenc">licenc</a>
         ¬∑     <a href="https://www.facebook.com/infoceetbmehu">facebook</a>
    </div>
<div class="csaknyomtatasban">K√©rj√ºk, az oldalak kinyomtat√°sa el≈ëtt gondolj a k√∂rnyezetre.</div>
BME EET, 2009-2021.</div>
</div>
</footer>

</div>

<nav>
<a id="scrolltotop"></a>
</nav>

</body>

</html>
